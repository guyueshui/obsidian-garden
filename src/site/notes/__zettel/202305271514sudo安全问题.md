---
{"dg-publish":true,"permalink":"/__zettel/202305271514sudo安全问题/","title":202305271514,"tags":["hw","sudo","安全"],"created":"2023-05-27T15:14:08+08:00"}
---


sudo安全排查涉及的两个要求：

1. 脚本文件不允许被修改
2. 文件只能被属主用户执行
3. 脚本的输入参数需要校验，否则容易被用户拼接注入攻击 --> 可以硬编码写死的直接在脚本里写死，否则一定做校验

高权限用户执行低权限用户的脚本，对于低权限用户来说，就是越权。而这往往难以排查，因为脚本里可能调另一个脚本，或者调其他可执行文件（例如python）而他们的权限